/* ============================================
   All Product Page - 1:1 Parity CSS
   Scoped with ep-products- prefix
   Reference: frontend/public/views/products.html lines 14-245
   ============================================ */

/* Body background for products page */
body.ep-products-page {
    background-color: #F8FAFC;
}

/* Main section wrapper */
.ep-products-section {
    padding: 40px 0 80px;
}

/* Layout container */
.ep-products-layout {
    display: flex;
    gap: 32px;
    align-items: flex-start;
}

/* --- SIDEBAR CONTAINER --- */
.ep-products-sidebar {
    width: 280px;
    flex-shrink: 0;
    background: #FFFFFF;
    border-radius: 16px;
    padding: 24px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);
    position: sticky;
    top: 100px;
    height: fit-content;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
    display: block;
}

.ep-products-sidebar-title {
    font-size: 1.5rem;
    font-weight: 800;
    margin-bottom: 24px;
    color: var(--gray-900);
    padding-left: 4px;
}

/* --- SIDEBAR GROUP --- */
.ep-products-category-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0;
}

.ep-products-sidebar-group {
    display: block;
    margin-bottom: 8px;
    width: 100%;
}

/* --- HEADER BUTTON --- */
.ep-products-sidebar-head {
    /* Reset button styles */
    appearance: none;
    background: transparent;
    border: none;

    /* Layout */
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    padding: 10px 12px;
    border-radius: 10px;

    /* Font */
    font-family: var(--font-body);
    font-size: 1rem;
    color: var(--gray-600);
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-align: left;
}

.ep-products-sidebar-head:hover {
    color: var(--primary-cyan);
    background: #F9FAFB;
    transform: translateX(2px);
}

.ep-products-sidebar-head.active {
    color: var(--gray-900);
    font-weight: 700;
}

/* Icon Rotation */
.ep-products-category-icon {
    width: 20px;
    height: 20px;
    color: #9CA3AF;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), color 0.3s ease;
    flex-shrink: 0;
}

.ep-products-sidebar-head[aria-expanded="true"] .ep-products-category-icon {
    transform: rotate(180deg);
    color: var(--primary-cyan);
}

/* --- SUBMENU BODY (Flow Layout) --- */
.ep-products-sidebar-body {
    /* Flex Column Layout */
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding: 0;
    margin-left: 0;
    width: 100%;
    position: static;

    /* Smooth transitions */
    max-height: 500px;
    opacity: 1;
    overflow: hidden;
    transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),
        opacity 0.3s ease,
        padding 0.3s ease;
    padding-top: 6px;
    padding-bottom: 6px;
}

/* Hidden state with smooth collapse */
.ep-products-sidebar-body[hidden] {
    max-height: 0;
    opacity: 0;
    padding-top: 0;
    padding-bottom: 0;
    pointer-events: none;
}

/* --- SUBMENU ITEM (Button) --- */
.ep-products-sidebar-item {
    /* Reset button styles */
    appearance: none;
    background: transparent;
    border: none;

    /* Layout */
    display: flex;
    align-items: center;
    width: 100%;
    height: 38px;
    padding: 0 12px 0 32px;

    /* Font */
    font-family: var(--font-body);
    font-size: 0.95rem;
    color: var(--gray-500);
    text-align: left;
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-decoration: none;
}

.ep-products-sidebar-item:hover {
    color: var(--primary-cyan);
    background: #F0F9FF;
    transform: translateX(4px);
}

.ep-products-sidebar-item.active {
    background: #F3F4F6;
    color: var(--gray-900);
    font-weight: 600;
}

/* --- PRODUCTS CONTENT --- */
.ep-products-content {
    flex: 1;
}

.ep-products-header {
    margin-bottom: 24px;
}

.ep-products-breadcrumbs {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--gray-900);
}

.ep-products-current-category {
    color: var(--primary-cyan);
}

.ep-products-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
}

/* --- RESPONSIVE --- */
@media (max-width: 1024px) {
    .ep-products-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .ep-products-sidebar {
        width: 240px;
    }
}

@media (max-width: 768px) {
    .ep-products-layout {
        flex-direction: column;
    }

    .ep-products-sidebar {
        width: 100%;
        position: static;
        margin-bottom: 24px;
        max-height: none;
    }
}

/* Animation */
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-5px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}